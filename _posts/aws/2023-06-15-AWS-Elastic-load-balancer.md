---
title: "AWS Elastic Load Balancer"
last_modified_at: 2023-06-15T09:58:02-05:00
categories:
  - Blog
tags:
  - AWS ELB
---

## Elastic Load Balancing 이란
- Elastic Load Balancing은 둘 이상의 가용 영역에서 EC2 인스턴스, 컨테이너, IP 주소 등 여러 대상에 걸쳐 수신되는 트래픽을 자동으로 분산함.
- 등록된 대상의 상태를 모니터링하면서 상태가 양호한 대상으로만 트래픽을 라우팅함.
- Elastic Load Balancing은 수신 트래픽이 시간이 지남에 따라 변경됨에 따라 로드 밸런서를 확장함.
- 대다수의 워크로드에 맞게 자동으로 조정할 수 있음

## ELB에서 지원하는 Load Balancer  
1. Application Load Balancers  
2. Network Load Balancers  
3. Gateway Load Balancers  
4. Classic Load Balancers

## Application Load Balancer 개요
Application Load Balancer는 개방형 시스템 간 상호 연결(OSI) 모델의 일곱 번째 계층인 애플리케이션 계층에서 작동함.  
로드 밸런서는 요청을 받으면 우선 순위에 따라 리스너 규칙을 평가하여 적용할 규칙을 결정한 다음, 규칙 작업의 대상 그룹에서 대상을 선택함  
애플리케이션 트래픽의 콘텐츠를 기반으로 다른 대상 그룹에 요청을 라우팅하도록 리스너 규칙을 구성할 수 있음.  
대상이 여러 개의 대상 그룹에 등록이 된 경우에도 각 대상 그룹에 대해 독립적으로 라우팅이 수행됨.  
대상 그룹 레벨에서 사용되는 라우팅 알고리즘을 구성할 수 있음  
기본 라우팅 알고리즘은 라운드 로빈입니다. 그 대신 최소 미해결 요청 라우팅 알고리즘을 지정할 수 있음.
<br/>
애플리케이션에 대한 요청의 전체적인 흐름을 방해하지 않고 필요에 따라 로드 밸런서에서 대상을 추가 및 제거할 수 있음  
애플리케이션에 대한 트래픽이 시간에 따라 변화하므로 Elastic Load Balancing은 로드 밸런서를 확장함  
Elastic Load Balancing은 대다수의 워크로드에 맞게 자동으로 조정할 수 있음.  
로드 밸런서가 정상적인 대상에만 요청을 보낼 수 있도록 등록된 대상의 상태를 모니터링하는 데 사용되는 상태 확인을 구성할 수 있음  

## Application Load Balancer 구성요소  
- 로드 밸런서는 클라이언트에 대한 단일 접점 역할을 수행함
- 로드 밸런서는 여러 가용 영역에서 EC2 인스턴스 같은 여러 대상에 수신 애플리케이션 트래픽을 분산함
- 이렇게 하면 애플리케이션의 가용성이 향상됩니다. 로드 밸런서에 하나 이상의 리스너를 추가할 수 있음  
- 리스너는 구성한 프로토콜 및 포트를 사용하여 클라이언트의 연결 요청을 확인함
- 리스너에 대해 정의한 규칙에 따라 로드 밸런서가 등록된 대상으로 요청을 라우팅하는 방법이 결정됨
- 각 규칙은 우선 순위, 하나 이상의 작업, 하나 이상의 조건으로 구성됨
- 규칙에 대한 조건이 충족되면 작업이 수행되며, 각 리스너에 대한 기본 규칙을 정의해야 하고, 필요에 따라 추가 규칙을 정의할 수 있음.

각 대상 그룹은 지정한 프로토콜과 포트 번호를 사용하여 EC2 인스턴스 같은 하나 이상의 등록된 대상으로 요청을 라우팅합니다. 여러 대상 그룹에 대상을 등록할 수 있습니다. 대상 그룹 기준으로 상태 확인을 구성할 수 있습니다. 로드 밸런서의 리스너 규칙에서 지정한 대상 그룹에 등록된 모든 대상에서 상태 검사가 수행됩니다.

다음 다이어그램은 기본 구성 요소를 보여 줍니다. 각 리스너에는 기본 규칙이 포함되어 있고 하나의 리스너에는 요청을 다른 대상 그룹으로 라우팅하는 다른 규칙이 포함되어 있습니다. 하나의 대상은 두 개의 대상 그룹에 등록됩니다
